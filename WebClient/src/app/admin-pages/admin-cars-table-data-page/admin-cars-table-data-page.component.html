<div class="row">
  <div class="col">
    <h1>Автомобили</h1>
    <button class="btn btn-success" (click)="appendNewCar()">
      Добавить новый автомобиль
    </button>
    <div class="shadow p-2 mt-3" style="overflow: auto">
      <div class="dflex justify-content-between">
        <div>
          <p>Данные: {{ maxCount }}</p>
        </div>
        <div></div>
      </div>
      <table class="table table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th>Id</th>
            <th>Гос. номер</th>
            <th>Марка и модель авто</th>
            <th>Цвет</th>
            <th>Год выпуска</th>
            <th>Владелец</th>
            <th colspan="2"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let carViewData of carsViewData">
            <td>{{ carViewData.id }}</td>
            <td>{{ carViewData.stateNumber }}</td>
            <td>{{ carViewData.markTitle }} {{ carViewData.markModel }}</td>
            <td>{{ carViewData.color }}</td>
            <td>{{ carViewData.yearOfIssue }}</td>
            <td>
              {{ carViewData.surname }} {{ carViewData.name }}
              {{ carViewData.patronymic }}
            </td>
            <td>
              <button
                class="btn btn-warning btn-block"
                (click)="editCar(carViewData.id)"
              >
                <i class="fas fa-pen-square"></i>
              </button>
            </td>
            <td>
              <button
                class="btn btn-info btn-block"
                (click)="infoCar(carViewData.id)"
              >
                <i class="fas fa-info-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="maxPages > 1">
        <div
          class="btn-group mr-2"
          role="group"
          aria-label="First group"
          *ngIf="maxPages <= 4"
        >
          <button
            *ngFor="let item of createRange(maxPages)"
            type="button"
            id="data-page-{{ item }}"
            (click)="changePage(item)"
            [attr.class]="
              item === currentPage
                ? 'btn btn-secondary'
                : 'btn btn-outline-secondary'
            "
          >
            {{ item }}
          </button>
        </div>
        <div *ngIf="maxPages > 4">
          <div
            class="btn-group mr-2"
            role="group"
            aria-label="First group"
            *ngIf="currentPage + 2 >= maxPages"
          >
            <button
              type="button"
              id="data-page-1"
              (click)="changePage(1)"
              class="btn btn-outline-secondary"
            >
              1
            </button>
            <button type="button" disabled class="btn btn-outline-secondary">
              ...
            </button>
            <button
              *ngFor="let item of createRange(3).reverse()"
              type="button"
              id="data-page-{{ maxPages - item }}"
              (click)="changePage(maxPages - item)"
              [attr.class]="
                maxPages - item === currentPage
                  ? 'btn btn-secondary'
                  : 'btn btn-outline-secondary'
              "
            >
              {{ maxPages - item }}
            </button>
            <button
              type="button"
              id="data-page-{{ maxPages }}"
              (click)="changePage(maxPages)"
              [attr.class]="
                maxPages === currentPage
                  ? 'btn btn-secondary'
                  : 'btn btn-outline-secondary'
              "
            >
              {{ maxPages }}
            </button>
          </div>
          <div
            class="btn-group mr-2"
            role="group"
            aria-label="First group"
            *ngIf="currentPage >= 4 && currentPage + 1 < maxPages - 1"
          >
            <button
              type="button"
              id="data-page-1"
              (click)="changePage(1)"
              class="btn btn-outline-secondary"
            >
              1
            </button>
            <button type="button" disabled class="btn btn-outline-secondary">
              ...
            </button>
            <button
              type="button"
              id="data-page-1"
              (click)="changePage(currentPage - 1)"
              class="btn btn-outline-secondary"
            >
              {{ currentPage - 1 }}
            </button>
            <button
              type="button"
              id="data-page-1"
              (click)="changePage(currentPage)"
              class="btn btn-secondary"
            >
              {{ currentPage }}
            </button>
            <button
              type="button"
              id="data-page-1"
              (click)="changePage(currentPage + 1)"
              class="btn btn-outline-secondary"
            >
              {{ currentPage + 1 }}
            </button>
            <button type="button" disabled class="btn btn-outline-secondary">
              ...
            </button>
            <button
              type="button"
              id="data-page-{{ maxPages }}"
              (click)="changePage(maxPages)"
              class="btn btn-outline-secondary"
            >
              {{ maxPages }}
            </button>
          </div>
          <div
            class="btn-group mr-2"
            role="group"
            aria-label="First group"
            *ngIf="currentPage + 2 < maxPages && currentPage < 4"
          >
            <button
              *ngFor="let item of createRange(4)"
              type="button"
              id="data-page-{{ item }}"
              (click)="changePage(item)"
              [attr.class]="
                item === currentPage
                  ? 'btn btn-secondary'
                  : 'btn btn-outline-secondary'
              "
            >
              {{ item }}
            </button>
            <button type="button" disabled class="btn btn-outline-secondary">
              ...
            </button>
            <button
              type="button"
              id="data-page-{{ maxPages }}"
              (click)="changePage(maxPages)"
              class="btn btn-outline-secondary"
            >
              {{ maxPages }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
